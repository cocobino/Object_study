# 3. 역할 책임 협력
상속은 코드를 재사용 할 수 있는 가장 널리 알려진 방법, `캡슐화 측면에서 합성이 더 좋은 방법`
객체 지향 패러다임에서 핵심은 `역할`, `책임`, `협력`

### 협력
![img.png](img.png)
- 객체들이 어플리케이션 기능을 구현하기 위해 수행하는 상호 작용 `협력`
- `메시지`는 객체 사이 협력을 위해 사용할 수 있는 유일한 커뮤니케이션 수단
- 자신이 할수 없는 일은 다른 객체에게 위임하며 협력에 참여시키고 자율성을 향상 시킴

### 문맥
- 객체의 행동을 결정하는 것은 객체가 참여하고있는 협력
- 상태는 객체가 행동하는데 필요한 정보에 의해 결정, 행동은 협력안에서 객체가 빠르게 처리할 메시지로 결정
- 결과적으로 객체가 참여하는 협력이 객체의 행동, 상태 모두 결정 -> `협력은 일종의 문맥`

### 책임
- 협력에 필요한 행동을 수행할 수 있는 적절한 객체를 찾는 행위
- 협력 안에서 객체에게 할당한 책임이 외부의 인터페이스와 내부 속성 결정
- `책임은 객체 지향 설계의 핵심`
- 협력은 객체에게 책임을 결정할 수 있는 문맥을 제공

#### 책임을 할당하는 과정
1. 예매하라는 메시지를 설정
2. 메시지를 처리할 객체 선정 -> 정보를 소유하거나 가장 잘 알고있는 전문가를 찾기( 정보 전문가 패턴 )
3. Screening 을 선택하고 가격 이후 1번과 정과같이 가격 계산 필요함 -> 2번 반복
#### 책임 주도 설계는 자연스럽게 객체의 구현이 아닌 책임에 집중이 가능해짐

#### 메시지가 객체를 결정
- 메시지가 객체를 선택해야하는 이유는 `최소한의 인터페이스`, `추상적인 인터페이스` 를 가질수 있게됨


#### 행동이 상태를 결정
- 적절한 객체를 창조했느냐는 얼마나 적절한 책임을 할당 했느냐에 달려있고 책임이 얼마나 적절한지는 협력에 얼마나 적절한가 달려있음.

### 역할
객체의 목적은 협력안에서 객체가 맡게되는 책임의 집함
` 역할이라는 개념을 이용해서 결계 과정을 더 번거롭게 만드는 이유`

#### 열할이 중요한 이유는 역할을 통해 유연하고 재사용 가능한 협력을 얻을수 있기 떄문
#### 문제를 해결하기 위해 객체가 아닌 책임에 초점
![img_1.png](img_1.png)

#### 객체 대 역할
- 역할은 객체가 참여할 수 있는 슬롯
- 협력에 적합한 책임을 수행하는 대상이 한종류라면 간단하게 객체
- 여러 객체들이 참여 가능하다면 역할
- 설계 초반은 `적잘한 책임과 협력의 큰 그림을 탐색 하는것 이 목표`
- 두 협력을 하나로 합치면서 두객체를 포괄할 수 있는 역할을 고려해서 객체를 역할로 대체 가능

#### 역할과 추상화
역할은 공통의 책임을 바탕으로 중요한 정책을 상위 수준에서 단순화 함
![img_2.png](img_2.png)
- 추상화를 통해 세부 사항에 억눌리지 않고 상위 정책을 간단하게 표현
- 설계에 유연하게 대응 가능해짐

## 결론
### 배우와 배역
- 연극 안에서 배역을 연기하는 배우라는 은유는 협력안에서 역할을 수행
- 협력은 연극과 동일하고 코드는 극본과 동일
- 객체는 다양한 역할을 가질수있음 > 배우가 여러 연극에 참여하며 여러 배역을 연기함